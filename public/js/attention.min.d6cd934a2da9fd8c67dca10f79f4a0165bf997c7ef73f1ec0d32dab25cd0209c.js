document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".attention-overlay"),t=e?.querySelector(".overlay-content"),s=e?.querySelector(".overlay-close"),o=n=>{if(!e||!t)return;t.innerHTML=n,e.removeAttribute("hidden"),document.documentElement.classList.add("no-scroll")},n=()=>{if(!e)return;e.setAttribute("hidden",""),document.documentElement.classList.remove("no-scroll"),t&&(t.innerHTML="")};s?.addEventListener("click",n),e?.addEventListener("click",t=>{(t.target===e||t.target.classList.contains("overlay-backdrop"))&&n()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&n()}),document.querySelectorAll(".attention-timeline .timeline-item").forEach(e=>{const t=e.querySelector(".content"),n=e.querySelector(".dot"),s=e.querySelector(".overlay-template"),a=()=>s?s.innerHTML:"<p>No details</p>",i=e=>{e?.preventDefault?.(),o(a())};t?.addEventListener("click",i),n?.addEventListener("click",i),n?.addEventListener("mouseenter",()=>t?.classList.add("hover")),n?.addEventListener("mouseleave",()=>t?.classList.remove("hover"))});const i=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("in-view")})},{rootMargin:"0px 0px -10% 0px",threshold:.1});document.querySelectorAll(".attention-timeline .timeline-item .content").forEach(e=>i.observe(e))})