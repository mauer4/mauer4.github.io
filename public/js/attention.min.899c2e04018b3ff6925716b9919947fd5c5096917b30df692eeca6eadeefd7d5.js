document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".attention-timeline .timeline-item .toggle").forEach(e=>{e.addEventListener("click",()=>{const n=e.closest(".timeline-item"),t=n?n.querySelector(".details"):null;if(!t)return;const s=e.getAttribute("aria-expanded")==="true";s?(t.setAttribute("hidden",""),e.setAttribute("aria-expanded","false"),e.textContent="Details"):(t.removeAttribute("hidden"),e.setAttribute("aria-expanded","true"),e.textContent="Hide")})}),document.querySelectorAll(".attention-timeline .timeline-item .dot").forEach(e=>{const t=e.closest(".timeline-item").querySelector(".summary");e.addEventListener("mouseenter",()=>{t.classList.add("highlight")}),e.addEventListener("mouseleave",()=>{t.classList.remove("highlight")})}),document.querySelectorAll(".attention-timeline .timeline-item").forEach(e=>{const t=e.querySelector(".checklist-trigger"),n=e.querySelector(".checklist-popover");if(!t||!n)return;let s=null;const i=()=>{const e=t.getBoundingClientRect();n.style.top=t.offsetTop+t.offsetHeight+8+"px",n.style.left=t.offsetLeft+"px",n.removeAttribute("hidden"),t.setAttribute("aria-expanded","true")},o=()=>{n.setAttribute("hidden",""),t.setAttribute("aria-expanded","false")};t.addEventListener("click",e=>{e.stopPropagation(),n.hasAttribute("hidden")?i():o()}),t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",()=>{s=setTimeout(o,200)}),n.addEventListener("mouseenter",()=>{s&&(clearTimeout(s),s=null)}),n.addEventListener("mouseleave",()=>{s=setTimeout(o,200)}),document.addEventListener("click",t=>{e.contains(t.target)||o()})})})